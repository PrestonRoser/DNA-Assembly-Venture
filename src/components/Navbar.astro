---
const LINKS = [
  { href: "/", label: "Home" },
  { href: "/product", label: "Product" },
  { href: "/mission", label: "Mission" },
  { href: "/founders", label: "Founders" },
  { href: "/contact", label: "Contact" },
  { href: "/venture", label: "Venture" },
  { href: "/faq", label: "FAQ" },
];
const path = Astro.url.pathname;
const etsy = "https://www.etsy.com/listing/4368469267/3d-dnarna-assembly-kit-stem-learning-kit?etsrc=sdt";
const email = "sproutforged@gmail.com";
const instagram = "https://instagram.com/sproutforged";
---

<header class="nav-root">
  <div class="nav-inner">
    <!-- brand -->
    <div class="brand">
      <a href="/">DNA Assembly Education</a>
    </div>

    <!-- center links -->
    <nav class="nav-center" aria-label="Primary navigation">
      {LINKS.map((l) => (
        <a class="nav-link" href={l.href} aria-current={path === l.href ? "page" : undefined}>
          {l.label}
        </a>
      ))}
    </nav>

    <!-- actions -->
    <div class="nav-actions">
      <a class="icon-btn focus-ring" href={etsy} target="_blank" rel="noopener" aria-label="Etsy">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M6 6h15l-1.5 9h-12z"/><circle cx="9" cy="20" r="1.5"/><circle cx="18" cy="20" r="1.5"/><path d="M6 6l-2-2H2"/>
        </svg>
      </a>
      <a class="icon-btn focus-ring" href={"mailto:"+email} aria-label="Email">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M4 6h16v12H4z"/><path d="M22 6l-10 7L2 6"/>
        </svg>
      </a>
      <a class="icon-btn focus-ring" href={instagram} target="_blank" rel="noopener" aria-label="Instagram">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <rect x="3" y="3" width="18" height="18" rx="4"/><circle cx="12" cy="12" r="3.2"/><circle cx="17" cy="7" r="1"/>
        </svg>
      </a>

      <details class="menu">
        <summary class="icon-btn focus-ring" aria-label="Open menu">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M3 6h18M3 12h18M3 18h18"/>
          </svg>
        </summary>
        <div class="sheet" role="menu">
          {LINKS.map((l) => (
            <a role="menuitem" href={l.href} aria-current={path === l.href ? "page" : undefined}>{l.label}</a>
          ))}
          <a role="menuitem" href={etsy} target="_blank" rel="noopener">View on Etsy</a>
          <a role="menuitem" href={"mailto:"+email}>Email us</a>
          <a role="menuitem" href={instagram} target="_blank" rel="noopener">Instagram</a>
        </div>
      </details>
    </div>
  </div>
</header>

<style>
  :root { --nav-gap: 1.25rem; }

  .nav-inner{
    max-width: 1180px;
    margin: 0 auto;
    padding: 0 1rem;
    display:grid;
    grid-template-columns: auto 1fr auto;
    grid-template-areas: "brand center actions";
    align-items:center;
    height:64px;
    gap:0;
    min-width:0;
  }
  .brand{ grid-area:brand; }
  .brand a{
    font-family: var(--font-display);
    font-weight:800; color:var(--brand-text, #1E3A8A);
    font-size:1.125rem; letter-spacing:.2px; text-decoration:none; white-space:nowrap;
  }
  .nav-center{ grid-area:center; display:flex; justify-content:center; align-items:center; gap:var(--nav-gap); min-width:0; }
  .nav-actions{ grid-area:actions; display:flex; align-items:center; gap:.5rem; justify-self:end; }

  .icon-btn{
    width:38px; height:38px; display:inline-flex; align-items:center; justify-content:center;
    border:1px solid rgb(226 232 240); background:#fff; border-radius:12px; box-shadow: var(--shadow);
    color: rgb(31 75 184);
  }
  .icon-btn:hover{ transform: translateY(-1px); transition: transform .15s ease; background: rgb(246 248 255); }

  .sheet{
    position:absolute; right:0; top:calc(100% + 8px); background:#fff; border:1px solid var(--border);
    border-radius:14px; box-shadow: var(--shadow); min-width:240px; overflow:hidden; display:none; padding:.25rem 0; z-index:100;
  }
  details.menu{ position:relative; }
  details.menu[open] .sheet{ display:flex; flex-direction:column; }
  .sheet a{ display:block; padding:.85rem 1rem; color:var(--text); text-decoration:none; white-space:nowrap; }
  .sheet a + a{ border-top:1px solid var(--border); }

  /* Two rows before overlap */
  @media (max-width: 1400px){
    .nav-inner{
      grid-template-areas:
        "brand . actions"
        "center center center";
      row-gap:6px; height:auto; padding-top:.25rem; padding-bottom:.25rem;
    }
  }
  /* Mobile: hide center links */
  @media (max-width: 940px){
    .nav-inner{ grid-template-areas:"brand . actions"; }
    .nav-center{ display:none; }
  }
</style>

